(self.webpackChunkfielder_docs=self.webpackChunkfielder_docs||[]).push([[521],{3521:(a,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>k});var t=n(7154),s=n.n(t),p=n(6479),o=n.n(p),c=(n(8661),n(3905)),m={};function k(a){var e=a.components,n=o()(a,["components"]);return(0,c.kt)("wrapper",s()({},m,n,{components:e,mdxType:"MDXLayout"}),(0,c.kt)("h1",{id:"submission"},"Submission"),(0,c.kt)("p",null,(0,c.kt)("em",{parentName:"p"},"Handling submission and/or progression in a form.")),(0,c.kt)("h2",{id:"basic-submission"},"Basic submission"),(0,c.kt)("p",null,"The ",(0,c.kt)("inlineCode",{parentName:"p"},"useSubmit")," hook can be used to guard submission logic and trigger ",(0,c.kt)("inlineCode",{parentName:"p"},"submit")," validation."),(0,c.kt)("blockquote",null,(0,c.kt)("p",{parentName:"blockquote"},"The provided function will not be called until ",(0,c.kt)("inlineCode",{parentName:"p"},"submit")," validation succeeds.")),(0,c.kt)("div",{className:"remark-highlight"},(0,c.kt)("pre",s()({parentName:"div"},{className:"language-tsx"}),(0,c.kt)("code",s()({parentName:"pre"},{className:"language-tsx"}),(0,c.kt)("span",s()({parentName:"code"},{className:"token keyword"}),"const")," ",(0,c.kt)("span",s()({parentName:"code"},{className:"token punctuation"}),"{")," handleSubmit ",(0,c.kt)("span",s()({parentName:"code"},{className:"token punctuation"}),"}")," ",(0,c.kt)("span",s()({parentName:"code"},{className:"token operator"}),"=")," ",(0,c.kt)("span",s()({parentName:"code"},{className:"token function"}),"useSubmit"),(0,c.kt)("span",s()({parentName:"code"},{className:"token punctuation"}),"("),(0,c.kt)("span",s()({parentName:"code"},{className:"token punctuation"}),"("),(0,c.kt)("span",s()({parentName:"code"},{className:"token parameter"}),"values"),(0,c.kt)("span",s()({parentName:"code"},{className:"token punctuation"}),")")," ",(0,c.kt)("span",s()({parentName:"code"},{className:"token arrow operator"}),"=>")," ",(0,c.kt)("span",s()({parentName:"code"},{className:"token punctuation"}),"{"),"\n  ",(0,c.kt)("span",s()({parentName:"code"},{className:"token function"}),"fetch"),(0,c.kt)("span",s()({parentName:"code"},{className:"token punctuation"}),"("),(0,c.kt)("span",s()({parentName:"code"},{className:"token string"}),"'/submit-form'"),(0,c.kt)("span",s()({parentName:"code"},{className:"token punctuation"}),",")," ",(0,c.kt)("span",s()({parentName:"code"},{className:"token punctuation"}),"{"),"\n    method",(0,c.kt)("span",s()({parentName:"code"},{className:"token operator"}),":")," ",(0,c.kt)("span",s()({parentName:"code"},{className:"token string"}),"'POST'"),(0,c.kt)("span",s()({parentName:"code"},{className:"token punctuation"}),","),"\n    body",(0,c.kt)("span",s()({parentName:"code"},{className:"token operator"}),":")," ",(0,c.kt)("span",s()({parentName:"code"},{className:"token known-class-name class-name"}),"JSON"),(0,c.kt)("span",s()({parentName:"code"},{className:"token punctuation"}),"."),(0,c.kt)("span",s()({parentName:"code"},{className:"token method function property-access"}),"stringify"),(0,c.kt)("span",s()({parentName:"code"},{className:"token punctuation"}),"("),"values",(0,c.kt)("span",s()({parentName:"code"},{className:"token punctuation"}),")"),(0,c.kt)("span",s()({parentName:"code"},{className:"token punctuation"}),","),"\n  ",(0,c.kt)("span",s()({parentName:"code"},{className:"token punctuation"}),"}"),(0,c.kt)("span",s()({parentName:"code"},{className:"token punctuation"}),")"),(0,c.kt)("span",s()({parentName:"code"},{className:"token punctuation"}),";"),"\n",(0,c.kt)("span",s()({parentName:"code"},{className:"token punctuation"}),"}"),(0,c.kt)("span",s()({parentName:"code"},{className:"token punctuation"}),")"),(0,c.kt)("span",s()({parentName:"code"},{className:"token punctuation"}),";"),"\n\n",(0,c.kt)("span",s()({parentName:"code"},{className:"token keyword"}),"return")," ",(0,c.kt)("span",s()({parentName:"code"},{className:"token tag"}),(0,c.kt)("span",s()({parentName:"span"},{className:"token tag"}),(0,c.kt)("span",s()({parentName:"span"},{className:"token punctuation"}),"<"),"button")," ",(0,c.kt)("span",s()({parentName:"span"},{className:"token attr-name"}),"onClick"),(0,c.kt)("span",s()({parentName:"span"},{className:"token script language-javascript"}),(0,c.kt)("span",s()({parentName:"span"},{className:"token script-punctuation punctuation"}),"="),(0,c.kt)("span",s()({parentName:"span"},{className:"token punctuation"}),"{"),"handleSubmit",(0,c.kt)("span",s()({parentName:"span"},{className:"token punctuation"}),"}")),(0,c.kt)("span",s()({parentName:"span"},{className:"token punctuation"}),">")),(0,c.kt)("span",s()({parentName:"code"},{className:"token plain-text"}),"Submit"),(0,c.kt)("span",s()({parentName:"code"},{className:"token tag"}),(0,c.kt)("span",s()({parentName:"span"},{className:"token tag"}),(0,c.kt)("span",s()({parentName:"span"},{className:"token punctuation"}),"</"),"button"),(0,c.kt)("span",s()({parentName:"span"},{className:"token punctuation"}),">")),(0,c.kt)("span",s()({parentName:"code"},{className:"token punctuation"}),";"),"\n"))),(0,c.kt)("h2",{id:"submission-state"},"Submission state"),(0,c.kt)("p",null,"The ",(0,c.kt)("inlineCode",{parentName:"p"},"useSubmit")," hook also provides state indicating whether async submit logic is in progress and whether the provided ",(0,c.kt)("inlineCode",{parentName:"p"},"handleSubmit")," function has been called."),(0,c.kt)("div",{className:"remark-highlight"},(0,c.kt)("pre",s()({parentName:"div"},{className:"language-tsx"}),(0,c.kt)("code",s()({parentName:"pre"},{className:"language-tsx"}),(0,c.kt)("span",s()({parentName:"code"},{className:"token keyword"}),"const")," ",(0,c.kt)("span",s()({parentName:"code"},{className:"token punctuation"}),"["),"fieldProps",(0,c.kt)("span",s()({parentName:"code"},{className:"token punctuation"}),",")," fieldMeta",(0,c.kt)("span",s()({parentName:"code"},{className:"token punctuation"}),"]")," ",(0,c.kt)("span",s()({parentName:"code"},{className:"token operator"}),"=")," ",(0,c.kt)("span",s()({parentName:"code"},{className:"token function"}),"useField"),(0,c.kt)("span",s()({parentName:"code"},{className:"token punctuation"}),"("),(0,c.kt)("span",s()({parentName:"code"},{className:"token comment"}),"/* ... */"),(0,c.kt)("span",s()({parentName:"code"},{className:"token punctuation"}),")"),(0,c.kt)("span",s()({parentName:"code"},{className:"token punctuation"}),";"),"\n",(0,c.kt)("span",s()({parentName:"code"},{className:"token keyword"}),"const")," ",(0,c.kt)("span",s()({parentName:"code"},{className:"token punctuation"}),"{")," isValidating",(0,c.kt)("span",s()({parentName:"code"},{className:"token punctuation"}),",")," hasSubmitted ",(0,c.kt)("span",s()({parentName:"code"},{className:"token punctuation"}),"}")," ",(0,c.kt)("span",s()({parentName:"code"},{className:"token operator"}),"=")," ",(0,c.kt)("span",s()({parentName:"code"},{className:"token function"}),"useSubmit"),(0,c.kt)("span",s()({parentName:"code"},{className:"token punctuation"}),"("),(0,c.kt)("span",s()({parentName:"code"},{className:"token comment"}),"/* ... */"),(0,c.kt)("span",s()({parentName:"code"},{className:"token punctuation"}),")"),(0,c.kt)("span",s()({parentName:"code"},{className:"token punctuation"}),";"),"\n\n",(0,c.kt)("span",s()({parentName:"code"},{className:"token keyword"}),"return")," ",(0,c.kt)("span",s()({parentName:"code"},{className:"token punctuation"}),"("),"\n  ",(0,c.kt)("span",s()({parentName:"code"},{className:"token tag"}),(0,c.kt)("span",s()({parentName:"span"},{className:"token tag"}),(0,c.kt)("span",s()({parentName:"span"},{className:"token punctuation"}),"<"),"div"),(0,c.kt)("span",s()({parentName:"span"},{className:"token punctuation"}),">")),(0,c.kt)("span",s()({parentName:"code"},{className:"token plain-text"})),"\n",(0,c.kt)("span",s()({parentName:"code"},{className:"token plain-text"}),"    "),(0,c.kt)("span",s()({parentName:"code"},{className:"token tag"}),(0,c.kt)("span",s()({parentName:"span"},{className:"token tag"}),(0,c.kt)("span",s()({parentName:"span"},{className:"token punctuation"}),"<"),"input")," ",(0,c.kt)("span",s()({parentName:"span"},{className:"token attr-name"}),"type"),(0,c.kt)("span",s()({parentName:"span"},{className:"token attr-value"}),(0,c.kt)("span",s()({parentName:"span"},{className:"token punctuation attr-equals"}),"="),(0,c.kt)("span",s()({parentName:"span"},{className:"token punctuation"}),'"'),"text",(0,c.kt)("span",s()({parentName:"span"},{className:"token punctuation"}),'"'))," ",(0,c.kt)("span",s()({parentName:"span"},{className:"token spread"}),(0,c.kt)("span",s()({parentName:"span"},{className:"token punctuation"}),"{"),(0,c.kt)("span",s()({parentName:"span"},{className:"token punctuation"}),"..."),(0,c.kt)("span",s()({parentName:"span"},{className:"token attr-value"}),"fieldProps"),(0,c.kt)("span",s()({parentName:"span"},{className:"token punctuation"}),"}"))," ",(0,c.kt)("span",s()({parentName:"span"},{className:"token punctuation"}),"/>")),(0,c.kt)("span",s()({parentName:"code"},{className:"token plain-text"})),"\n",(0,c.kt)("span",s()({parentName:"code"},{className:"token plain-text"}),"    "),(0,c.kt)("span",s()({parentName:"code"},{className:"token punctuation"}),"{"),"hasSubmitted ",(0,c.kt)("span",s()({parentName:"code"},{className:"token operator"}),"&&")," fieldMeta",(0,c.kt)("span",s()({parentName:"code"},{className:"token punctuation"}),"."),(0,c.kt)("span",s()({parentName:"code"},{className:"token property-access"}),"error"),(0,c.kt)("span",s()({parentName:"code"},{className:"token punctuation"}),"}"),(0,c.kt)("span",s()({parentName:"code"},{className:"token plain-text"})),"\n",(0,c.kt)("span",s()({parentName:"code"},{className:"token plain-text"}),"    "),(0,c.kt)("span",s()({parentName:"code"},{className:"token tag"}),(0,c.kt)("span",s()({parentName:"span"},{className:"token tag"}),(0,c.kt)("span",s()({parentName:"span"},{className:"token punctuation"}),"<"),"button"),(0,c.kt)("span",s()({parentName:"span"},{className:"token punctuation"}),">")),(0,c.kt)("span",s()({parentName:"code"},{className:"token punctuation"}),"{"),"isValidating ",(0,c.kt)("span",s()({parentName:"code"},{className:"token operator"}),"?")," ",(0,c.kt)("span",s()({parentName:"code"},{className:"token tag"}),(0,c.kt)("span",s()({parentName:"span"},{className:"token tag"}),(0,c.kt)("span",s()({parentName:"span"},{className:"token punctuation"}),"<"),(0,c.kt)("span",s()({parentName:"span"},{className:"token class-name"}),"Spinner"))," ",(0,c.kt)("span",s()({parentName:"span"},{className:"token punctuation"}),"/>"))," ",(0,c.kt)("span",s()({parentName:"code"},{className:"token operator"}),":")," ",(0,c.kt)("span",s()({parentName:"code"},{className:"token string"}),"'Submit'"),(0,c.kt)("span",s()({parentName:"code"},{className:"token punctuation"}),"}"),(0,c.kt)("span",s()({parentName:"code"},{className:"token tag"}),(0,c.kt)("span",s()({parentName:"span"},{className:"token tag"}),(0,c.kt)("span",s()({parentName:"span"},{className:"token punctuation"}),"</"),"button"),(0,c.kt)("span",s()({parentName:"span"},{className:"token punctuation"}),">")),(0,c.kt)("span",s()({parentName:"code"},{className:"token plain-text"}),";"),"\n",(0,c.kt)("span",s()({parentName:"code"},{className:"token plain-text"}),"  "),(0,c.kt)("span",s()({parentName:"code"},{className:"token tag"}),(0,c.kt)("span",s()({parentName:"span"},{className:"token tag"}),(0,c.kt)("span",s()({parentName:"span"},{className:"token punctuation"}),"</"),"div"),(0,c.kt)("span",s()({parentName:"span"},{className:"token punctuation"}),">")),"\n",(0,c.kt)("span",s()({parentName:"code"},{className:"token punctuation"}),")"),(0,c.kt)("span",s()({parentName:"code"},{className:"token punctuation"}),";"),"\n"))))}k.isMDXComponent=!0}}]);